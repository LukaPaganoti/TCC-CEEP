CREATE TABLE IF NOT EXISTS tb_clientes (
   codcliente INT NOT NULL AUTO_INCREMENT,
   nomecli VARCHAR(50) NOT NULL,
   telefonecli BIGINT(11) NOT NULL,
   cpfcli BIGINT(12) NOT NULL,
   senhacli VARCHAR(32) NOT NULL,
   usuariocli VARCHAR(50) NOT NULL,
   emailcli VARCHAR(150) NOT NULL,
   tipocadastro VARCHAR(1) NOT NULL DEFAULT 'C',
   ativo VARCHAR(1) NOT NULL DEFAULT 'S',
   CONSTRAINT tipocadastro CHECK (tipocadastro IN ('A','C')),
   CONSTRAINT ativo CHECK (ativo IN ('S','N')),
   PRIMARY KEY (codcliente)
);

CREATE TABLE IF NOT EXISTS tb_cidades (
   codcidade INT NOT NULL AUTO_INCREMENT,
   nomecid VARCHAR(50) NOT NULL,
   estadocid VARCHAR(2) NULL,
   PRIMARY KEY (codcidade)
);

CREATE TABLE IF NOT EXISTS tb_categorias (
   codcategoria INT NOT NULL AUTO_INCREMENT,
   descricaocat VARCHAR(255) NOT NULL,
   PRIMARY KEY (codcategoria)
);

CREATE TABLE IF NOT EXISTS tb_enderecos (
   codendereco INT NOT NULL AUTO_INCREMENT,
   cepend INT NOT NULL,
   numeroend INT NOT NULL,
   bairroend VARCHAR(100) NOT NULL,
   ruaend VARCHAR(100) NOT NULL,
   complementoend VARCHAR(255) NULL,
   fk_codcidade INT NOT NULL,
   fk_codcliente INT NOT NULL,
   PRIMARY KEY (codendereco),
   CONSTRAINT fk_tb_enderecos_tb_cidades1
     FOREIGN KEY (fk_codcidade)
     REFERENCES tb_cidades (codcidade),
   CONSTRAINT fk_tb_enderecos_tb_clientes1
     FOREIGN KEY (fk_codcliente)
     REFERENCES tb_clientes (codcliente)
);

CREATE TABLE IF NOT EXISTS tb_pedidos (
   codpedido INT NOT NULL AUTO_INCREMENT,
   codtransporte VARCHAR(50) NULL,
   tipoped VARCHAR(1) NOT NULL DEFAULT 'E',
   pagamento VARCHAR(1) NOT NULL DEFAULT 'P',
   valor_entrega FLOAT(5,2) NOT NULL,
   fk_codcliente INT NOT NULL,
   CONSTRAINT tipoped CHECK (tipoped IN ('E','R')),
   CONSTRAINT pagamento CHECK (pagamento IN ('P','D')),
   PRIMARY KEY (codpedido),
   CONSTRAINT fk_tb_pedidos_tb_clientes1
     FOREIGN KEY (fk_codcliente)
     REFERENCES tb_clientes (codcliente)
);

CREATE TABLE IF NOT EXISTS tb_produtos (
   codproduto INT NOT NULL AUTO_INCREMENT,
   nomeprod VARCHAR(60) NOT NULL,
   precoprod FLOAT(5,2) NOT NULL,
   tamanhoprod FLOAT(4,2) NOT NULL,
   pesoprod FLOAT(5,3) NOT NULL,
   descricaoprod VARCHAR(255) NOT NULL,
   ativo VARCHAR(1) NULL DEFAULT 'S',
   fk_codcategoria INT NOT NULL,
   CONSTRAINT ativo CHECK (ativo IN ('S','N')),
   PRIMARY KEY (codproduto),
   CONSTRAINT fk_tb_produtos_tb_categorias1
     FOREIGN KEY (fk_codcategoria)
     REFERENCES tb_categorias (codcategoria)
);

CREATE TABLE IF NOT EXISTS tb_pedidos_produtos (
   codpedido_prod INT NOT NULL AUTO_INCREMENT,
   fk_codpedido INT NOT NULL,
   fk_codproduto INT NOT NULL,
   precoped FLOAT(5,2) NOT NULL,
   quantidadeped FLOAT(3,3) NULL,
   PRIMARY KEY (codpedido_prod),
   CONSTRAINT fk_tb_pedidos_has_tb_produtos_tb_pedidos1
     FOREIGN KEY (fk_codpedido)
     REFERENCES tb_pedidos (codpedido),
   CONSTRAINT fk_tb_pedidos_has_tb_produtos_tb_produtos1
     FOREIGN KEY (fk_codproduto)
     REFERENCES tb_produtos (codproduto)
);

CREATE TABLE IF NOT EXISTS tb_imagens_prod (
  codimagem INT NOT NULL AUTO_INCREMENT,
  produtoimg VARCHAR(255) NOT NULL,
  fk_codproduto INT NOT NULL,
  PRIMARY KEY (codimagem),
CONSTRAINT fk_tb_imagens_prod_tb_produtos1
    FOREIGN KEY (fk_codproduto)
    REFERENCES tb_produtos (codproduto));

COMMIT;

INSERT INTO tb_cidades VALUES(2853, 'Cascavel', 'PR'), (3315, 'Recife', 'PE'),
(3164, 'Toledo', 'PR'), (3172, 'Umuarama', 'PR');

INSERT INTO tb_categorias VALUES (1, 'Quadros coloridos grandes'), (2, 'Quadros coloridos médio'),
(3, 'Quadros coloridos pequenos'), (4, 'Quadros preto e branco grandes'), (5, 'Quadros preto e branco médio'),
(6, 'Quadros preto e branco pequenos'), (7, 'Marca páginas coloridos'), (8, 'Marca páginas preto e branco'),
(9, 'Chaveiros coloridos'), (10, 'Chaveiros preto e branco');

INSERT INTO tb_clientes VALUES (1, 'Laisa Assis (teste)', 45998476271, 12345678901, '123teste', 'Laisa Assis', 'laisaassisteste@gmail.com', 'C', 'S'), (2, 'Vitor Hugo (teste)', 45984137132, 12345678901, '1234teste' 'Vitor Hugo', 'vitorhugoteste@gmail.com', 'C', 'S'); (4, 'Sabrina Sandri (teste)', 45999353396, 12345678901, '12345teste', 'Sabrina Sandri', 'sabrinateste@gmail.com', 'C', 'S'); (5, 'Lucas Eduardo (teste)', 45991170168, 12345678901, '123teste', 'Lucas Eduardo', 'lucaseduardo@gmail.com', 'C', 'S'); (6, 'Luka Paganoti Farias', 45998073523, 12759755932, 'CheshaNeko1', 'Luka', 'bendrownedstudios@gmail.com', 'A', 'S');

INSERT INTO tb_enderecos VALUES (1, 85804150, 888, '14 de Novembro', 'Rua Tenente José Firmino',
'casa da frente, verde', 2853, 1), (2, 85802290, 230, 'Neva', 'Rua Primeiro de Maio',
'na frente da igreja evangelica', 2853, 1);

INSERT INTO tb_pedidos VALUES (1, 'SD367379461BR', 'E', 'P', 27.59, 1), (2, 'SD352745340BR', 'E', 'P', 79.02, 1);

INSERT INTO tb_produtos VALUES (1, 'Quadro Demon Slayer', 120.00, 30.42, 1.000, 
'Quadro Demon Slayer Nezuko', 'S', 1);

INSERT INTO tb_pedidos_produtos VALUES (1, 1, 1, 147.59, 0.002), (2, 2, 1, 147.59, 0.200);

INSERT INTO tb_imagens_prod VALUES (1, 'https://www.google.com/search?rlz=1C1GCEA_enBR1064BR1064&q=
nezuko&tbm=isch&sa=X&ved=2ahUKEwih3NHRov3_AhUTBLkGHdVlDL4Q0pQJegQIChAB&biw=
1536&bih=746&dpr=1.25#imgrc=Z7JdZsACThW1wM', 1);
